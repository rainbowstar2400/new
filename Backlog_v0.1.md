# Backlog v0.1

- 作成日: 2026-02-06
- 参照: `PRD_v0.1.md`, `UseCases_v0.1.md`
- 目的: MVP実装に向けたチケット分解

## 1. チケット運用ルール

- 優先度は `P0 > P1 > P2`
- 受け入れ条件は `FR` と `UC` を満たすこと
- 各チケットはローカル実行で検証可能なテストを含むこと
- `P0` 完了をMVPリリースの前提とする

## 2. P0 バックログ

| ID | 種別 | タイトル | 主な内容 | 依存 | 受け入れ条件 |
| --- | --- | --- | --- | --- | --- |
| P0-01 | Data | ドメインモデル定義 | `Task/Reminder/ConversationContext` と `due_state` を実装 | なし | `FR-06`, `FR-07`, `FR-10` |
| P0-02 | Infra | ローカル永続化実装 | IndexedDBなどでローカル保存、外部送信なし | P0-01 | `FR-18` |
| P0-03 | Backend/Logic | 入力分類エンジン | タスク/メモ分類と曖昧判定 | P0-01 | `FR-01`, `FR-02`, `UC-13` |
| P0-04 | Backend/Logic | メモ内サブ分類 | `やりたいこと/アイデア/メモ` 自動分類 | P0-03 | `FR-03`, `UC-06`, `UC-11`, `UC-12` |
| P0-05 | UI | 登録入力UI | 会話入力欄、送信、保存結果表示 | P0-03 | `UC-01` 基本導線が動作 |
| P0-06 | UI/Flow | 期日3択確認UI | `設定する/設定しない/後で設定する` の選択UI | P0-03 | `FR-04`, `UC-02` |
| P0-07 | Logic | 期日3択分岐処理 | 3択結果の保存分岐（`scheduled/no_due/pending_due`） | P0-06 | `FR-05`, `FR-06`, `UC-15`, `UC-16` |
| P0-08 | UI | `!期日設定` 表示 | `pending_due` を一覧で強調表示し `no_due` と区別 | P0-07 | `FR-07`, `UC-16` |
| P0-09 | UI/Flow | 日付のみ期限の `○/✕` 確認 | 既定時刻補完確認を出すUI | P0-06 | `FR-08`, `UC-08` |
| P0-10 | Logic | `○/✕` 時刻確定分岐 | `○` で即確定、`✕` で自然言語入力へ遷移 | P0-09 | `FR-09`, `FR-10`, `UC-08` |
| P0-11 | Logic | 期日自然言語解釈 | `設定する` 後の日時自然言語解釈 | P0-07 | `FR-05`, `UC-15` |
| P0-12 | Reminder | ローカル通知基盤 | 通知作成、通知タップで対象遷移 | P0-02 | `FR-17`, `UC-01`, `UC-04` |
| P0-13 | Reminder | オフセット解釈エンジン | `1時間前/30分前/前日` など相対解釈 | P0-12 | `FR-11`, `UC-14` |
| P0-14 | UI/Flow | 対象曖昧時 `○/✕` 確認 | `対象タスクは〇〇で良いですか？` の確認UI | P0-13 | `FR-12`, `FR-13`, `UC-17` |
| P0-15 | NLG | 応答テンプレート + 要約スロット | `〇〇` のみAI生成、テンプレート固定 | P0-03 | `FR-14`, `FR-15` |
| P0-16 | NLG | 応答フォールバック制御 | 不適切生成時に安全文へ切替 | P0-15 | `FR-16` |
| P0-17 | Test | P0総合テスト | `UC-01~UC-17` のP0ケースE2E検証 | P0-01〜P0-16 | PRDのP0受け入れ条件を満たす |

## 3. P1 バックログ

| ID | 種別 | タイトル | 主な内容 | 依存 | 受け入れ条件 |
| --- | --- | --- | --- | --- | --- |
| P1-01 | Reminder | 時刻未指定リマインド改善 | 補足確認/提案の文面改善 | P0-13 | `UC-05`, `UC-09` の成功率改善 |
| P1-02 | Logic | 相対日付解釈精度強化 | 来週/翌週など境界ケース補強 | P0-11 | `UC-09` 安定通過 |
| P1-03 | UX | 確認UIの操作性改善 | `○/✕` 導線の視認性と誤操作低減 | P0-09, P0-14 | 誤操作率の低下 |

## 4. P2 バックログ

| ID | 種別 | タイトル | 主な内容 | 依存 | 受け入れ条件 |
| --- | --- | --- | --- | --- | --- |
| P2-01 | NLG | 応答文チューニング | 文体の一貫性、自然さ改善 | P0-16 | 会話品質KPIの改善 |
| P2-02 | Logic | 境界ケース拡張 | 稀な曖昧入力の再確認ロジック | P0-17 | 失敗率低減 |
| P2-03 | UX | 一覧画面微調整 | `!期日設定` の表示最適化 | P0-08 | 視認性評価の改善 |

## 5. 実装順（推奨）

1. `P0-01` 〜 `P0-04`（モデル/分類の土台）
2. `P0-05` 〜 `P0-11`（登録・期日フロー）
3. `P0-12` 〜 `P0-14`（通知・オフセット・対象確認）
4. `P0-15` 〜 `P0-16`（応答生成）
5. `P0-17`（P0総合検証）

## 6. リリースゲート（MVP）

- `P0-01` 〜 `P0-17` が完了
- `PRD_v0.1.md` のリリース判定条件を満たす
